### 数据恢复：

#### 1.创建数据库(创建⼀个新库)

#### 2.创建需要恢复的表（在新库中创建要恢复的表，如果你不知道表结构，通过.frm⽂件也可以搞出来结构）

#### 3.这样就会在对应的数据库下产生.frm和.ibd文件。创建表时候的字段和需要被恢复的表的⼀致



### 执行：

#### 1.把数据库表的数据文件.ibd拷贝到备份服务器

```
scp -P (指定端口) .(文件所在目录) xxx(指定用户)@xxx.xxx.xxx.xxx指(定服务器ip地址)：/目录
```



#### 2.卸载数据库的表空间

```
ALTER TABLE 原服务器数据库表名字 DISCARD TABLESPACE; 
```

这时候数据库⽂件下⾯的 xxxx.ibd ⽂件就会消失



#### 3.把刚拷贝的数据库表的数据文件ibd替换

```
cp xxx xxx
```



#### 4.拷贝过来的ibd文件属主需要设置，文件权限需要root读写，组用户读写，其他用户不要求

```
chown xxx:xxx xxx.ibd
chmod 660 xxx.ibd
```



#### 5.刚卸载表空间的表，重新导入数据库结构和数据文件

```
ALTER TABLE 表名字 IMPORT TABLESPACE;
```

